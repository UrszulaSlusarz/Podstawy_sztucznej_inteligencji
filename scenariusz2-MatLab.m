close all; clear all; clc;

% Litery s¹ utworzone na matrycy 5 x 7 czyli na 35 polach. I tyle wejœæ ma
% sieæ, mog¹ zostaæ wype³nione tylko liczb¹ 0 albo 1;
min_max=[0 1; 0 1; 0 1; 0 1; 0 1; 0 1; 0 1; 0 1; 0 1; 0 1; 
         0 1; 0 1; 0 1; 0 1; 0 1; 0 1; 0 1; 0 1; 0 1; 0 1;
         0 1; 0 1; 0 1; 0 1; 0 1; 0 1; 0 1; 0 1; 0 1; 0 1; 
         0 1; 0 1; 0 1;0 1;0 1];
ilosc_wyjsc=1;
%net=newlin(min_max,ilosc_wyjsc);
net = newp(min_max,ilosc_wyjsc);

%Matryce te nale¿y skonwertowaæ do postaci akceptowalnej przez sieæ, czyli
%0/1
letterA=   [0 0 1 0 0 ...
            0 1 0 1 0 ...
            0 1 0 1 0 ...
            1 0 0 0 1 ...
            1 1 1 1 1 ...
            1 0 0 0 1 ...
            1 0 0 0 1 ]';
        
lettera=   [0 0 0 0 0 ...
            0 0 0 0 0 ...
            1 1 1 0 0 ...
            0 0 0 1 0 ...
            1 1 1 1 0 ...
            1 0 0 1 0 ...
            1 1 1 1 1 ]';  
        
letterD  = [1 1 1 1 0 ...
            1 0 0 0 1 ...
            1 0 0 0 1 ...
            1 0 0 0 1 ...
            1 0 0 0 1 ...
            1 0 0 0 1 ...
            1 1 1 1 0 ]';
        
letterd=   [0 0 0 0 0 ...
            0 0 0 1 0 ...
            0 0 0 1 0 ...
            0 0 0 1 0 ...
            1 1 1 1 0 ...
            1 0 0 1 0 ...
            1 1 1 1 0 ]';

letterE  = [1 1 1 1 1 ...
            1 0 0 0 0 ...
            1 0 0 0 0 ...
            1 1 1 1 0 ...
            1 0 0 0 0 ...
            1 0 0 0 0 ...
            1 1 1 1 1 ]';
        
lettere=   [0 0 0 0 0 ...
            0 0 0 0 0 ...
            0 1 1 0 0 ...
            1 0 0 1 0 ...
            1 1 1 1 0 ...
            1 0 0 0 0 ...
            0 1 1 1 0 ]';


letterF =  [1 1 1 1 1 ...
            1 0 0 0 0 ...
            1 0 0 0 0 ...
            1 1 1 1 0 ...
            1 0 0 0 0 ...
            1 0 0 0 0 ...
            1 0 0 0 0 ]';
        
letterf=   [0 0 1 1 0 ...
            0 1 0 0 0 ...
            1 1 1 0 0 ...
            0 1 0 0 0 ...
            0 1 0 0 0 ...
            0 1 0 0 0 ...
            0 1 0 0 0 ]';
        
letterN=   [1 0 0 0 1 ...
            1 0 0 0 1 ...
            1 1 0 0 1 ...
            1 0 1 0 1 ...
            1 0 0 1 1 ...
            1 0 0 0 1 ...
            1 0 0 0 1]';
        
lettern=   [0 0 0 0 0 ...
            0 0 0 0 0 ...
            1 1 1 1 0 ...
            1 0 0 1 0 ...
            1 0 0 1 0 ...
            1 0 0 1 0 ...
            1 0 0 1 1]';
        
letterP=   [1 1 1 1 0 ... 
            1 0 0 0 1 ...
            1 0 0 0 1 ...
            1 1 1 1 0 ...
            1 0 0 0 0 ...
            1 0 0 0 0 ...
            1 0 0 0 0]';
        
letterp=  [ 0 0 0 0 0 ... 
            0 0 0 0 0 ...
            1 1 1 1 0 ...
            1 0 0 1 0 ...
            1 1 1 1 0 ...
            1 0 0 0 0 ...
            1 0 0 0 0]';
        
letterR=   [1 1 1 1 0 ... 
            1 0 0 0 1  ...
            1 0 0 0 1 ...
            1 1 1 1 0 ...
            1 0 1 0 0 ...
            1 0 0 1 0 ...
            1 0 0 0 1]'; 
        
letterr=   [0 0 0 0 0 ...
            0 0 0 0 0 ...
            0 1 1 1 1 ...
            0 0 1 0 1 ...
            0 0 1 0 0 ...
            0 0 1 0 0 ...
            0 0 1 0 0]';
        
letterT=   [1 1 1 1 1 ...
            0 0 1 0 0 ...
            0 0 1 0 0 ...
            0 0 1 0 0 ...
            0 0 1 0 0 ...
            0 0 1 0 0 ...
            0 0 1 0 0]';
        
lettert=   [0 0 1 0 0 ...
            0 0 1 0 0 ...
            0 1 1 1 0 ...
            0 0 1 0 0 ...
            0 0 1 0 0 ...
            0 0 1 0 1 ...
            0 0 1 1 0]';
        
letterU=  [1 0 0 0 1 ...
           1 0 0 0 1 ...
           1 0 0 0 1 ...
           1 0 0 0 1 ...
           1 0 0 0 1 ...
           1 0 0 0 1 ...
           0 1 1 1 0]';
       
letteru=  [0 0 0 0 0 ...
           0 0 0 0 0 ...
           0 0 0 0 0 ...
           1 0 0 1 0 ...
           1 0 0 1 1 ...
           1 0 0 1 0 ...
           0 1 1 0 1]';
       
letterY=  [1 0 0 0 1 ...
           1 0 0 0 1 ...
           0 1 0 1 0 ...
           0 0 1 0 0 ...
           0 0 1 0 0 ...
           0 0 1 0 0 ...
           0 0 1 0 0]';
       
lettery=  [0 0 0 0 0 ...
           1 0 0 0 1 ...
           1 0 0 1 1 ...
           0 1 1 1 1 ...
           1 0 0 1 0 ...
           0 1 0 1 0 ...
           0 0 1 0 0]';
       
 
%Liniowym rozwiniêciem tych matryc bêd¹ wektory wejœciowe ci¹gu ucz¹cego, który sk³ada siê z 20 wektorów ucz¹cych
       
in=[0 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 
    1 0 1 0 1 0 1 0 0 0 1 0 1 0 1 0 0 0 0 0
    1 0 1 0 1 0 1 1 0 0 1 0 1 0 1 1 0 0 0 0 
    1 0 1 0 1 0 1 1 0 0 1 0 1 0 1 0 0 0 0 0
    0 0 0 0 1 0 1 0 1 0 0 0 0 0 1 0 1 0 1 0
    1 0 1 0 1 0 1 0 1 0 1 0 1 0 0 0 1 0 1 1
    0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0
    0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 1 0 0 0 0
    0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
    1 0 1 0 0 0 0 0 1 0 1 0 1 0 0 0 1 0 1 1
    1 1 1 0 1 0 1 1 1 1 1 1 1 0 0 0 1 0 0 1
    0 1 0 0 0 1 0 1 1 1 0 1 0 1 0 1 0 0 1 0
    0 1 0 0 0 1 0 1 0 1 0 1 0 1 1 1 0 0 0 0
    0 0 0 1 0 0 0 0 0 1 0 1 0 1 0 1 0 0 1 1
    1 0 1 0 0 0 0 0 1 0 1 0 1 1 0 0 1 0 0 1
    1 0 1 0 1 1 1 0 1 1 1 1 1 0 0 0 1 1 0 0
    1 0 0 0 1 0 1 1 0 0 1 0 1 0 0 0 0 0 0 1
    1 0 0 0 1 0 1 0 1 0 1 0 1 1 1 1 0 0 1 1
    1 1 0 1 1 1 1 0 0 1 1 1 1 0 0 0 0 1 0 1
    1 0 1 0 0 0 0 0 1 0 0 0 0 1 0 0 1 0 0 1
    1 1 1 1 1 1 1 0 1 1 1 1 1 0 0 0 1 1 0 1
    0 1 0 1 0 1 0 1 0 0 0 1 0 0 0 0 0 0 0 0
    0 1 0 1 0 1 0 0 0 0 0 1 1 1 1 1 0 0 1 0
    0 1 0 1 0 1 0 0 1 1 0 1 0 0 0 0 0 1 0 1
    1 0 1 0 0 0 0 0 1 0 0 0 0 0 0 0 1 1 0 0
    1 1 1 1 1 1 1 0 1 1 1 1 1 0 0 0 1 1 0 0
    0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 1
    0 0 0 0 0 0 0 0 0 0 0 0 0 1 1 1 0 0 1 0
    0 1 0 1 0 0 0 0 0 1 0 0 1 0 0 0 0 1 0 1
    1 0 1 0 0 0 0 0 1 0 0 0 0 0 0 1 1 0 0 0
    1 1 1 1 1 0 1 0 1 1 1 1 1 0 0 0 0 0 0 0
    0 1 1 1 1 1 0 1 0 0 0 0 0 0 0 0 1 1 0 0
    0 1 1 1 1 1 0 0 0 0 0 0 0 1 1 1 1 1 1 1
    0 1 1 1 1 1 0 0 0 1 0 0 0 0 0 1 1 0 0 0
    1 1 0 0 1 0 0 0 1 1 0 0 1 0 0 0 0 1 0 0];
   %A a D d E e F f N n P p R r T t U u Y y
           
out=[ 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 ];



testujacyA=[0;1;1;1;0;1;0;0;0;1;1;0;0;0;1;1;1;1;1;1;1;0;0;0;1;1;0;0;0;1;1;0;0;0;1;];
           %1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
           %A a D d E e F f N n P p R r T t U u Y y    
testujacya=[0;0;0;0;0;0;0;0;0;0;1;1;1;0;0;0;0;0;1;0;1;1;1;1;0;1;0;0;1;0;1;1;1;1;1;];
           %0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
           %A a D d E e F f N n P p R r T t U u Y y 
testujacyD=[1;1;1;1;0;1;0;0;0;1;1;0;0;0;1;1;0;0;0;1;1;0;0;0;1;1;0;0;0;1;1;1;1;1;0;];
           %0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
           %A a D d E e F f N n P p R r T t U u Y y 
testujacyd=[0;0;0;0;0;0;0;0;1;0;0;0;0;1;0;0;0;0;1;0;1;1;1;1;0;1;0;0;1;0;1;1;1;1;0;];
           %0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
           %A a D d E e F f N n P p R r T t U u Y y 
testujacyE=[1;1;1;1;1;1;0;0;0;0;1;0;0;0;0;1;1;1;1;0;1;0;0;0;0;1;0;0;0;0;1;1;1;1;1;];
           %0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
           %A a D d E e F f N n P p R r T t U u Y y   
testujacye=[0;0;0;0;0;0;0;0;0;0;0;1;1;0;0;1;0;0;1;0;1;1;1;1;0;1;0;0;0;0;0;1;1;1;0;];
           %0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0
           %A a D d E e F f N n P p R r T t U u Y y
testujacyF=[1;1;1;1;1;1;0;0;0;0;1;0;0;0;0;1;1;1;1;0;1;0;0;0;0;1;0;0;0;0;1;0;0;0;0;];
           %0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0 0
           %A a D d E e F f N n P p R r T t U u Y y  
testujacyf=[0;0;1;1;0;0;1;0;0;0;1;1;1;0;0;0;1;0;0;0;0;1;0;0;0;0;1;0;0;0;0;1;0;0;0;];
           %0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0 0
           %A a D d E e F f N n P p R r T t U u Y y 
testujacyN=[1;0;0;0;1;1;0;0;0;1;1;1;0;0;1;1;0;1;0;1;1;0;0;1;1;1;0;0;0;1;1;0;0;0;1;];
           %0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0 0
           %A a D d E e F f N n P p R r T t U u Y y
testujacyn=[0;0;0;0;0;0;0;0;0;0;1;1;1;1;0;1;0;0;1;0;1;0;0;1;0;1;0;0;1;0;1;0;0;1;1;];
           %0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0 0
           %A a D d E e F f N n P p R r T t U u Y y
testujacyP=[1;1;1;1;0;1;0;0;0;1;1;0;0;0;1;1;1;1;1;0;1;0;0;0;0;1;0;0;0;0;1;0;0;0;0;];
           %0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0 0
           %A a D d E e F f N n P p R r T t U u Y y 
testujacyp=[0;0;0;0;0;0;0;0;0;0;1;1;1;1;0;1;0;0;1;0;1;1;1;1;0;1;0;0;0;0;1;0;0;0;0;];
           %0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0 0
           %A a D d E e F f N n P p R r T t U u Y y  
testujacyR=[1;1;1;1;0;1;0;0;0;1;1;0;0;0;1;1;1;1;1;0;1;0;1;0;0;1;0;0;1;0;1;0;0;0;1;];
           %0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0 0
           %A a D d E e F f N n P p R r T t U u Y y  
testujacyr=[0;0;0;0;0;0;0;0;0;0;0;1;1;1;1;0;0;1;0;1;0;0;1;0;0;0;0;1;0;0;0;0;1;0;0;];
           %0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0 0
           %A a D d E e F f N n P p R r T t U u Y y 
testujacyT=[1;1;1;1;1;0;0;1;0;0;0;0;1;0;0;0;0;1;0;0;0;0;1;0;0;0;0;1;0;0;0;0;1;0;0;];
           %0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0 0
           %A a D d E e F f N n P p R r T t U u Y y
testujacyt=[0;0;1;0;0;0;0;1;0;0;0;1;1;1;0;0;0;1;0;0;0;0;1;0;0;0;0;1;0;1;0;0;1;1;0;];
           %0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0 0
           %A a D d E e F f N n P p R r T t U u Y y
testujacyU=[1;0;0;0;1;1;0;0;0;1;1;0;0;0;1;1;0;0;0;1;1;0;0;0;1;1;0;0;0;1;0;1;1;1;0;];
           %0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0 0
           %A a D d E e F f N n P p R r T t U u Y y
testujacyu=[0;0;0;0;0;0;0;0;0;0;0;0;0;0;0;1;0;0;1;0;1;0;0;1;1;1;0;0;1;0;0;1;1;0;1;];
           %0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0 0
           %A a D d E e F f N n P p R r T t U u Y y;
testujacyY=[1;0;0;0;1;1;0;0;0;1;0;1;0;1;0;0;0;1;0;0;0;0;1;0;0;0;0;1;0;0;0;0;1;0;0;];
           %0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0
           %A a D d E e F f N n P p R r T t U u Y y
testujacyy=[0;0;0;0;0;1;0;0;0;1;1;0;0;1;1;0;1;1;1;1;1;0;0;1;0;0;1;0;1;0;0;0;1;0;0;];
           %0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1
           %A a D d E e F f N n P p R r T t U u Y y
           
net.trainParam.epochs = 2500;
net.trainParam.goal = 0.01; 
net.trainParam.mu = 0.01; 
net= train(net,in,out); 
           
%Wywo³ujemy przyk³adow¹ literê z alfabetu, mo¿e to byæ R:
literka=testujacyp;
%Wyœwietlamy j¹:
plotchar(literka); 

a=sim(net,literka);
if round(a) == 0    
    disp('To jest ma³a litera');
else
     disp('To jest du¿a litera');
    
end
 disp(a)
 